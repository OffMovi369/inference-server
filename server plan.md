# Описание работы сервера
Здесь будет описано: 
- как сервер будет принимать и отправлять данные
- как он будет взаимодействовать с нейросетевым детектором
- архитектура сервера

**Используемый фреймворк:** RabbitMQ
**Язык программирования:** python 3.11+
**Библиотека для python:** ~~pika~~ Propan

## Смена фреймворка на Propan
Вместо `pika` будет использован `Propan`, так как он удобен и прост.

## Концепция
Так как в системе распределения сообщений RabbitMQ есть приёмник и отправитель, то на **сервере должен быть и тот, и другой**, так как серверу необходимо получать изображения и отправлять координаты найденного автотраспорта на фрейме.

## Архитектура сервера
`reciver` -> `detector` -> `sender`

`reciver`: Получатель сообщений, а именно изображений. Его задача: слушать канал и брать из очереди сообщение
`detector`: Детектор, задачей которого является получить на вход изображение и выдать список всего авто на этом фрейме
`sender`: Отправитель, который должен отправить полученный из детектора список обратно клиенту 

## Обработка одного клиента
Для начала необходимо создать две очереди. Очередь ответа и очередь запроса. Они будут определяться однозначно на стороне клиента и сервера.
Определим очередь `request` на стороне сервера и повешаем на него обработчик.